{% extends "base.html" %}
{% block content %}
<h2>Order #{{ order.id }}</h2>

<p><strong>User:</strong> {{ order.customer_email }}</p>
<p><strong>Date:</strong> {{ order.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
<p><strong>Total:</strong> {{ order.total_display }}</p>

<h3>Items</h3>
<ul>
  {% for item in order.items %}
    <li>{{ item.quantity }} × {{ item.product.title }} — S$ {{ '%.2f' % ((item.unit_price_cents * item.quantity) / 100.0) }}</li>
  {% endfor %}
</ul>

<h3>Update Status</h3>
<form method="post">
  <select name="status">
    <option value="pending" {% if order.status == 'pending' %}selected{% endif %}>Pending</option>
    <option value="paid" {% if order.status == 'paid' %}selected{% endif %}>Paid</option>
    <option value="shipped" {% if order.status == 'shipped' %}selected{% endif %}>Shipped</option>
    <option value="delivered" {% if order.status == 'delivered' %}selected{% endif %}>Delivered</option>
  </select>
  <button type="submit">Save</button>
</form>
{% endblock %}
